# Dynasty of Emberveil - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL connection string
DATABASE_URL=postgresql://username:password@localhost:5432/emberveil

# Redis connection string
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# JWT secret for token signing (CHANGE THIS!)
JWT_SECRET=change-this-to-a-random-secret-key-min-32-chars

# Session secret (CHANGE THIS!)
SESSION_SECRET=change-this-session-secret-min-32-chars

# Token expiration (in seconds)
JWT_EXPIRATION=86400

# ============================================
# OAUTH PROVIDERS
# ============================================
# Discord OAuth
DISCORD_CLIENT_ID=your-discord-client-id
DISCORD_CLIENT_SECRET=your-discord-client-secret
DISCORD_REDIRECT_URI=http://localhost:3000/auth/discord/callback

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# Steam OpenID
STEAM_API_KEY=your-steam-api-key
STEAM_REDIRECT_URI=http://localhost:3000/auth/steam/callback

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# ============================================
# SSL/TLS CERTIFICATES
# ============================================
# Path to SSL certificates (for HTTPS)
SSL_ENABLED=false
SSL_KEY_PATH=/path/to/ssl/private.key
SSL_CERT_PATH=/path/to/ssl/certificate.crt
SSL_CA_PATH=/path/to/ssl/ca_bundle.crt

# ============================================
# EXTERNAL SERVICES
# ============================================
# Sentry for error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Google Analytics / Plausible
ANALYTICS_ID=your-analytics-id

# SendGrid for emails
SENDGRID_API_KEY=your-sendgrid-api-key
FROM_EMAIL=noreply@emberveil.com

# ============================================
# RATE LIMITING & SECURITY
# ============================================
# Rate limit window (milliseconds)
RATE_LIMIT_WINDOW=900000

# Max requests per window
RATE_LIMIT_MAX_REQUESTS=100

# CORS allowed origins (comma-separated)
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# Max failed login attempts before lockout
MAX_LOGIN_ATTEMPTS=5

# Account lockout duration (minutes)
LOCKOUT_DURATION=15

# ============================================
# GAME CONFIGURATION
# ============================================
# Maximum players per server instance
MAX_PLAYERS_PER_SERVER=500

# Server tick rate (updates per second)
TICK_RATE=20

# Auto-save interval (milliseconds)
AUTO_SAVE_INTERVAL=300000

# World size (units)
WORLD_SIZE=1000

# Enemy spawn limit
MAX_ENEMIES=50

# Item despawn time (milliseconds)
ITEM_DESPAWN_TIME=300000

# Player idle timeout (milliseconds)
PLAYER_IDLE_TIMEOUT=600000

# ============================================
# PERFORMANCE & MONITORING
# ============================================
# Enable performance monitoring
ENABLE_MONITORING=true

# Prometheus metrics port
METRICS_PORT=9090

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable verbose logging
VERBOSE_LOGGING=false

# Memory limit warning threshold (MB)
MEMORY_LIMIT=4096

# CPU limit warning threshold (%)
CPU_LIMIT=80

# ============================================
# CLOUD & CDN CONFIGURATION
# ============================================
# AWS S3 for asset storage
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=emberveil-assets

# Cloudflare CDN
CLOUDFLARE_API_TOKEN=your-cloudflare-token
CLOUDFLARE_ZONE_ID=your-zone-id

# ============================================
# BACKUP & DISASTER RECOVERY
# ============================================
# Backup frequency (hours)
BACKUP_FREQUENCY=24

# Backup retention days
BACKUP_RETENTION_DAYS=30

# Backup storage path
BACKUP_PATH=/backups/emberveil

# ============================================
# FEATURE FLAGS
# ============================================
# Enable/disable features
ENABLE_VOICE_CHAT=false
ENABLE_TRADING=true
ENABLE_PVP=true
ENABLE_GUILDS=false
ENABLE_LEADERBOARDS=true
ENABLE_ACHIEVEMENTS=true
ENABLE_CUSTOM_SERVERS=false
ENABLE_MOD_SUPPORT=false

# ============================================
# ANTI-CHEAT CONFIGURATION
# ============================================
# Enable anti-cheat system
ENABLE_ANTI_CHEAT=true

# Max speed (units per second)
MAX_PLAYER_SPEED=10

# Max damage per hit
MAX_DAMAGE_PER_HIT=1000

# Action rate limit (actions per second)
MAX_ACTIONS_PER_SECOND=10

# ============================================
# MULTIPLAYER CONFIGURATION
# ============================================
# WebSocket ping timeout (ms)
WS_PING_TIMEOUT=60000

# WebSocket ping interval (ms)
WS_PING_INTERVAL=25000

# Max message size (bytes)
MAX_MESSAGE_SIZE=10240

# Chat message rate limit
CHAT_RATE_LIMIT=5

# Voice chat bitrate (kbps)
VOICE_BITRATE=64

# ============================================
# DEVELOPMENT SETTINGS
# ============================================
# Enable debug mode
DEBUG_MODE=false

# Enable hot reload
HOT_RELOAD=false

# Skip authentication (development only!)
SKIP_AUTH=false

# Mock external services
MOCK_SERVICES=false
